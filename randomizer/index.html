<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <title>Randomizer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />


</head>

<body>


  <h2>Modules</h2>
  <details>
    <summary>expand</summary>
    <ol>

      <li>
        <h3><a href="https://hackyourfuture.be/working-with-code" target="_blank">working-with-code</a></h3>
        <ul>
          <li>
            <p> 1 week | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/1"
                target="_blank">project
                board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Aworking-with-code+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/1" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/working-with-code#class-recordings" target="_blank">class
                recordings</a>
            </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/incremental-development" target="_blank">incremental-development</a></h3>
        <ul>
          <li>
            <p> 3 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/2"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Aincremental-development+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/2" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/incremental-development#class-recordings" target="_blank">class
                recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/debugging" target="_blank">debugging</a></h3>
        <ul>
          <li>
            <p> 2 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/3"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Adebugging+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/3" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/debugging#class-recordings" target="_blank">class recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/computational-thinking" target="_blank">computational-thinking</a></h3>
        <ul>
          <li>
            <p> 3 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/4"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Acomputational-thinking+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/4" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/computational-thinking#class-recordings" target="_blank">class
                recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/separation-of-concerns" target="_blank">separation-of-concerns</a></h3>
        <ul>
          <li>
            <p> 2 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/5"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Aseparation-of-concerns+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/5" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/separation-of-concerns#class-recordings" target="_blank">class
                recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/state" target="_blank">state</a></h3>
        <ul>
          <li>
            <p> 2 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/6"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Astate+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/6" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/state#class-recordings" target="_blank">class recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/encapsulation" target="_blank">encapsulation</a></h3>
        <ul>
          <li>
            <p> 3 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/7"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Aencapsulation+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/7" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/encapsulation#class-recordings" target="_blank">class recordings</a>
            </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/asynchronous-programming" target="_blank">asynchronous-programming</a>
        </h3>
        <ul>
          <li>
            <p> 3 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/8"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Aasynchronous-programming+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/8" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/asynchronous-programming#class-recordings" target="_blank">class
                recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/web-apps" target="_blank">web-apps</a></h3>
        <ul>
          <li>
            <p> 4 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/9"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Aweb-apps+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/9" target="_blank">all issues</a> |
              <a href="https://hackyourfuture.be/web-apps#class-recordings" target="_blank">class recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/databases" target="_blank">databases</a></h3>
        <ul>
          <li>
            <p> 2 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/10"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Adatabases+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/10" target="_blank">all issues</a>
              |
              <a href="https://hackyourfuture.be/databases#class-recordings" target="_blank">class recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/frontend-frameworks" target="_blank">frontend-frameworks</a></h3>
        <ul>
          <li>
            <p> 2 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/11"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Afrontend-frameworks+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/11" target="_blank">all issues</a>
              |
              <a href="https://hackyourfuture.be/frontend-frameworks#class-recordings" target="_blank">class
                recordings</a> </p>
          </li>
        </ul>
      </li>

      <li>
        <h3><a href="https://hackyourfuture.be/agile-development" target="_blank">agile-development</a></h3>
        <ul>
          <li>
            <p> 6 weeks | <a href="https://github.com/HackYourFutureBelgium/class-11-12/projects/12"
                target="_blank">project board</a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/issues?q=milestone%3Aagile-development+label%3Aindividual"
                target="_blank"><code>individual</code></a> | <a
                href="https://github.com/HackYourFutureBelgium/class-11-12/milestone/12" target="_blank">all issues</a>
              |
              <a href="https://hackyourfuture.be/agile-development#class-recordings" target="_blank">class
                recordings</a>
            </p>
          </li>
        </ul>
      </li>

      </ul>
  </details>



  <div id='user-interface'>
    <h2 id='header'>Group Randomizer</h2>
    <form id='randomizer-form'>
      <input type="number" value="1" name="number" min="1" /><input type="button" value="generate groups" />
      <br>
      <input type="radio" name="sortType" value="numberOfGroups" checked="true">
      <label for="female">number of groups</label>
      <br>
      <input type="radio" name="sortType" value="groupSize">
      <label for="male">group size</label>
    </form>
    <hr>
    <div id="groups"></div>
    <hr>
    <button><a id='back-to-repo' href=''>back to repo</a></button>
  </div>

  <script id='logic'>
    const shuffle = (arr) => {
      // inspired by https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array
      arr = [...arr];
      let currentIndex = arr.length, temporaryValue, randomIndex;
      while (0 !== currentIndex) {
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;
        temporaryValue = arr[currentIndex];
        arr[currentIndex] = arr[randomIndex];
        arr[randomIndex] = temporaryValue;
      }
      return arr;
    }

    const byGroupSize = (students, groupSize) => {
      students = shuffle(students.map(stud => stud));
      const groups = [];
      while (students.length >= groupSize) {
        groups.push(students.splice(0, groupSize))
      }
      if (students.length > 0) {
        let toPad = 0;
        while (students.length !== 0) {
          groups[toPad].push(students.pop());
          toPad++;
          if (toPad >= groups.length) {
            toPad = 0;
          }
        }
      }
      return groups;
    }

    const byNumberOfGroups = (students, numOfGroups) => {
      students = shuffle(students.map(stud => stud));
      const groups = [];
      for (let i = 0; i < numOfGroups; i++) {
        groups.push([]);
      }
      let groupToJoin = 0;
      while (students.length !== 0) {
        groups[groupToJoin].push(students.pop());
        groupToJoin++;
        if (groupToJoin >= groups.length) {
          groupToJoin = 0;
        }
      }
      return groups;
    }
  </script>

  <script id='views'>
    const renderGroups = (groups) => (
      `<div>` +
      `  ${groups
        .map((group, index) => (
          `<div>` +
          `  <h3>Group ${index + 1}</h3>` +
          `  <ul>` +
          `    ${group
            .map(student => (
              `<li><a href="https://github.com/${student.userName}" target="_blank">${student.name}</a></li>`
            ))
            .reduce((all, next) => all + next)}` +
          `  </ul>` +
          `<div>`
        ))
        .reduce((all, next) => all + next)}` +
      `</div>`
    );
  </script>

  <script id='handlers'>
    const randomizeHandler = (students) =>
      (event) => {
        const target = event.target;
        if (target.type !== 'button') {
          return;
        }

        const number = Number(target.form.number.value);
        const sortType = target.form.sortType.value;

        const groups = sortType === 'numberOfGroups'
          ? byNumberOfGroups(students, number)
          : byGroupSize(students, number);

        document.getElementById('groups')
          .innerHTML = renderGroups(groups);
      };
  </script>

  <script id='init'>
    fetch('../lib/data/students.json')
      .then(res => res.json())
      .then(students => {
        const form = document.getElementById('randomizer-form');
        form.number.setAttribute('max', students.length);
        form.addEventListener('click', randomizeHandler(students));
      })
      .catch(err => {
        console.log(err);
      });

    fetch('../lib/data/index.json')
      .then(res => res.json())
      .then(mainData => {
        document.getElementById('header')
          .innerHTML = mainData.repoName;
        document.getElementById('back-to-repo')
          .href = `${mainData.domain}/${mainData.repoName}`;
      })
      .catch(err => {
        console.log(err);
      });
  </script>
</body>

</html>
